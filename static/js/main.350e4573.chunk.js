(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,n){e.exports=n(68)},37:function(e,t,n){},65:function(e,t){},68:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(30),i=n.n(o),s=(n(37),n(8)),l=n(9),c=n(11),u=n(10),m=n(12),f=n(31),p=n.n(f).a.connect("https://runner-gunner-server.herokuapp.com"),d=new Audio("jump.mp3"),h=new Audio("laser1.mp3"),g=new Audio("kill.mp3"),w=new Audio("start.mp3"),v=new Audio("dead.mp3"),y=new Image,b=new Image;y.src="bg.png",b.src="pf.jpg";var x,E=!1,S=!0;function k(e){e.currentTime=0,e.play()}function A(){p.emit("soloGame",x),N=0,k(w)}p.on("joinedGame",function(){E=!0}),p.on("waiting",function(e){T.clearRect(0,0,j.width,j.height),T.textAlign="center",T.fillStyle="blue",T.font="30px Courier",T.fillText("Waiting for another player to join...",j.width/2,100),T.font="25px Arial",T.fillStyle="magenta",T.fillText("Lobby: ".concat(e),j.width/2,170),T.fillStyle="black",T.font="40px Courier",T.fillText("Controls",j.width/2,250),T.font="20px Arial",T.fillText("Space: shoot",j.width/2,300),T.fillText("Hold Up Arrow: jump",j.width/2,330),T.fillText("Right Arrow: move right",j.width/2,360),T.fillText("Left Arrow: move left",j.width/2,390)});var j=document.getElementById("canvas"),T=j.getContext("2d");T.textAlign="center",T.fillStyle="brown",T.font="50px Courier",T.fillText("Runner Gunner",j.width/2,100),T.textAlign="center",T.fillStyle="black",T.font="40px Courier",T.fillText("Controls",j.width/2,250),T.font="20px Arial",T.fillText("Space: shoot",j.width/2,300),T.fillText("Hold Up Arrow: jump",j.width/2,330),T.fillText("Right Arrow: move right",j.width/2,360),T.fillText("Left Arrow: move left",j.width/2,390);var N=0,C={left:!1,right:!1,up:!1,sounds:{jump:!1,shoot:!1},active:function(e){var t="keydown"===e.type;switch(e.keyCode){case 37:C.left=t;break;case 39:C.right=t;break;case 38:C.up=t,S&&(C.sounds.jump=!0,S=!1)}"keydown"===e.type&&32===e.keyCode&&(p.emit("bullets",x),C.sounds.shoot=!0),"keyup"===e.type&&38===e.keyCode&&(S=!0),E&&p.emit("controls",{controls:C,userName:x}),C.sounds.jump=!1,C.sounds.shoot=!1}};function O(e){e.forEach(function(e){e.forEach(function(e){var t;"bg"===e.type?T.drawImage(y,e.x,0,j.width,j.height):"player"===e.type?(e.controls.sounds.shoot&&k(h),e.controls.sounds.jump&&k(d),T.font="35px Arial",T.fillText(e.emoji,e.x,e.y+35),T.font="12px Arial",T.fillStyle="#ff007f",T.textAlign="center",T.fillText(e.name,e.x+20,e.y-20)):"enemy"===e.type?(T.font="40px Arial",T.fillText("\ud83d\udc79",e.x,e.y+40)):"platform"===e.type?T.drawImage(b,e.x,e.y,e.width,e.height):(t=e,T.fillStyle=t.color,T.fillRect(t.x,t.y,t.width,t.height))})})}p.on("drawElements",function(e){T.clearRect(0,0,j.width,j.height),O(e),T.font="30px Arial",T.textAlign="left",T.fillText("Score: ".concat(N),10,50)}),p.on("score",function(e){k(g),N=e}),p.on("gameOver",function(e){k(v),T.font="90px Arial",T.fillStyle="red",T.fillText("\u2620\ufe0f",j.width/2-45,j.height/2-20),E=!1}),window.addEventListener("keydown",C.active),window.addEventListener("keyup",C.active);var I=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=(new Date).toUTCString();return a.a.createElement("div",null,a.a.createElement("h5",null,"Welcome: ",a.a.createElement("span",null,this.props.user)),a.a.createElement("form",{onSubmit:function(n){return""===e.props.msg?n.preventDefault():function(e,t){e.preventDefault(),p.emit("submitMsg",t)}(n,{msg:e.props.msg,user:e.props.user,stamp:t})}},a.a.createElement("input",{id:"message",className:"form-control",type:"text",onChange:this.props.updateMsg,value:this.props.msg,placeholder:"Chat with other players"}),a.a.createElement("button",{id:"submit",className:"btn btn-default",type:"submit",onClick:this.props.submitMsg},"Send")),a.a.createElement("div",{id:"messages"},this.props.msgs.map(function(t){return a.a.createElement("p",{className:"msg"},a.a.createElement("code",{className:t.user===e.props.user?"myMsg":""},t.user,":")," ".concat(t.msg),a.a.createElement("caption",null,t.stamp))})))}}]),t}(r.Component),M=function(e){function t(e){var n,r,a,o,i,l;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).updateMsg=function(e){n.setState({msg:e.target.value})},n.submitMsg=function(){setTimeout(function(){return n.setState({msg:""})},50)},n.state={userID:"none",users:[],msg:"",msgs:[],isStart:!1,scores:[]},r=function(e){return n.setState({userID:e})},p.on("user",function(e){r(e),x=e}),a=function(e){return n.setState({users:e})},p.on("users",function(e){return a(e)}),o=function(e){return n.setState({msgs:e})},p.on("msg",function(e){return o(e)}),i=function(e){return n.setState({isStart:e})},p.on("startGame",function(e){return i(e)}),function(e){p.on("stopGame",function(t){return e(t)})}(function(e){return n.setState({isStart:e})}),l=function(e){return n.setState({scores:JSON.parse(e)})},p.on("showScores",function(e){return l(e)}),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.userID,n=e.users,r=e.scores,o=n.filter(function(e){return e!==t});return a.a.createElement("div",{className:"App"},this.state.isStart?a.a.createElement("div",{id:"in-progress",className:"text-center"},a.a.createElement("code",null,"Game in Progress")):a.a.createElement("div",{id:"btn",className:"row"},a.a.createElement("div",{className:"col-sm"},a.a.createElement("button",{className:"btn btn-warning btn-block",onClick:function(e){return p.emit("join",x),void k(w)}},"Join Game")),a.a.createElement("div",{className:"col-sm"},a.a.createElement("button",{className:"btn btn-default btn-block",onClick:A},"Solo Game"))),a.a.createElement("div",{id:"headers"},a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"online col-sm"},a.a.createElement("h5",null,"ONLINE ",a.a.createElement("div",{className:"icon"},this.state.users.length-1)),o.map(function(e){return a.a.createElement("div",{key:e,className:"players"},e)})),a.a.createElement("div",{className:"online col-sm"},a.a.createElement("h5",null,"High Score: "),a.a.createElement("ol",null,r.map(function(e){return a.a.createElement("li",{key:"scores"+e.user_id},e.name+": "+e.score)}))))),a.a.createElement(I,{msg:this.state.msg,msgs:this.state.msgs,updateMsg:this.updateMsg,submitMsg:this.submitMsg,user:this.state.userID}),a.a.createElement("div",null))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[32,2,1]]]);
//# sourceMappingURL=main.350e4573.chunk.js.map
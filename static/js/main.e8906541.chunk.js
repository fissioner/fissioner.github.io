(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,n){e.exports=n(68)},37:function(e,t,n){},65:function(e,t){},68:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(30),i=n.n(o),s=(n(37),n(8)),l=n(9),c=n(11),u=n(10),m=n(12),f=n(31),p=n.n(f).a.connect("https://runner-gunner-server.herokuapp.com"),d=new Audio("jump.mp3"),h=new Audio("laser1.mp3"),g=new Audio("kill.mp3"),w=new Audio("start.mp3"),v=new Audio("dead.mp3"),y=new Audio("music.mp3"),b=new Image,x=new Image;b.src="bg.png",x.src="pf.jpg",y.loop=!0;var E,S=!1,k=!0;function A(e){e.currentTime=0,e.play()}function j(){p.emit("soloGame",E),C=0,A(w),A(y)}p.on("joinedGame",function(){S=!0}),p.on("waiting",function(e){N.clearRect(0,0,T.width,T.height),N.textAlign="center",N.fillStyle="blue",N.font="30px Courier",N.fillText("Waiting for another player to join...",T.width/2,100),N.font="25px Arial",N.fillStyle="magenta",N.fillText("Lobby: ".concat(e),T.width/2,170),N.fillStyle="black",N.font="40px Courier",N.fillText("Controls",T.width/2,250),N.font="20px Arial",N.fillText("Space: shoot",T.width/2,300),N.fillText("Hold Up Arrow: jump",T.width/2,330),N.fillText("Right Arrow: move right",T.width/2,360),N.fillText("Left Arrow: move left",T.width/2,390)});var T=document.getElementById("canvas"),N=T.getContext("2d");N.textAlign="center",N.fillStyle="brown",N.font="50px Courier",N.fillText("Runner Gunner",T.width/2,100),N.textAlign="center",N.fillStyle="black",N.font="40px Courier",N.fillText("Controls",T.width/2,250),N.font="20px Arial",N.fillText("Space: shoot",T.width/2,300),N.fillText("Hold Up Arrow: jump",T.width/2,330),N.fillText("Right Arrow: move right",T.width/2,360),N.fillText("Left Arrow: move left",T.width/2,390);var C=0,O={left:!1,right:!1,up:!1,sounds:{jump:!1,shoot:!1},active:function(e){var t="keydown"===e.type;switch(e.keyCode){case 37:O.left=t;break;case 39:O.right=t;break;case 38:O.up=t,k&&(O.sounds.jump=!0,k=!1)}"keydown"===e.type&&32===e.keyCode&&(p.emit("bullets",E),O.sounds.shoot=!0),"keyup"===e.type&&38===e.keyCode&&(k=!0),S&&p.emit("controls",{controls:O,userName:E}),O.sounds.jump=!1,O.sounds.shoot=!1}};function I(e){e.forEach(function(e){e.forEach(function(e){var t;"bg"===e.type?N.drawImage(b,e.x,0,T.width,T.height):"player"===e.type?(e.controls.sounds.shoot&&A(h),e.controls.sounds.jump&&A(d),N.font="35px Arial",N.fillText(e.emoji,e.x,e.y+35),N.font="12px Arial",N.fillStyle="#ff007f",N.textAlign="center",N.fillText(e.name,e.x+20,e.y-20)):"enemy"===e.type?(N.font="40px Arial",N.fillText("\ud83d\udc79",e.x,e.y+40)):"platform"===e.type?N.drawImage(x,e.x,e.y,e.width,e.height):(t=e,N.fillStyle=t.color,N.fillRect(t.x,t.y,t.width,t.height))})})}p.on("drawElements",function(e){N.clearRect(0,0,T.width,T.height),I(e),N.font="30px Arial",N.textAlign="left",N.fillText("Score: ".concat(C),10,50)}),p.on("score",function(e){A(g),C=e}),p.on("gameOver",function(e){A(v),y.pause(),N.font="90px Arial",N.fillStyle="red",N.fillText("\u2620\ufe0f",T.width/2-45,T.height/2-20),S=!1}),window.addEventListener("keydown",O.active),window.addEventListener("keyup",O.active);var M=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=(new Date).toUTCString();return a.a.createElement("div",null,a.a.createElement("h5",null,"Welcome: ",a.a.createElement("span",null,this.props.user)),a.a.createElement("form",{onSubmit:function(n){return""===e.props.msg?n.preventDefault():function(e,t){e.preventDefault(),p.emit("submitMsg",t)}(n,{msg:e.props.msg,user:e.props.user,stamp:t})}},a.a.createElement("input",{id:"message",className:"form-control",type:"text",onChange:this.props.updateMsg,value:this.props.msg,placeholder:"Chat with other players"}),a.a.createElement("button",{id:"submit",className:"btn btn-default",type:"submit",onClick:this.props.submitMsg},"Send")),a.a.createElement("div",{id:"messages"},this.props.msgs.map(function(t){return a.a.createElement("p",{className:"msg"},a.a.createElement("code",{className:t.user===e.props.user?"myMsg":""},t.user,":")," ".concat(t.msg),a.a.createElement("caption",null,t.stamp))})))}}]),t}(r.Component),G=function(e){function t(e){var n,r,a,o,i,l;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).updateMsg=function(e){n.setState({msg:e.target.value})},n.submitMsg=function(){setTimeout(function(){return n.setState({msg:""})},50)},n.state={userID:"none",users:[],msg:"",msgs:[],isStart:!1,scores:[]},r=function(e){return n.setState({userID:e})},p.on("user",function(e){r(e),E=e}),a=function(e){return n.setState({users:e})},p.on("users",function(e){return a(e)}),o=function(e){return n.setState({msgs:e})},p.on("msg",function(e){return o(e)}),i=function(e){return n.setState({isStart:e})},p.on("startGame",function(e){return i(e)}),function(e){p.on("stopGame",function(t){return e(t)})}(function(e){return n.setState({isStart:e})}),l=function(e){return n.setState({scores:JSON.parse(e)})},p.on("showScores",function(e){return l(e)}),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.userID,n=e.users,r=e.scores,o=n.filter(function(e){return e!==t});return a.a.createElement("div",{className:"App"},this.state.isStart?a.a.createElement("div",{id:"in-progress",className:"text-center"},a.a.createElement("code",null,"Game in Progress")):a.a.createElement("div",{id:"btn",className:"row"},a.a.createElement("div",{className:"col-sm"},a.a.createElement("button",{className:"btn btn-warning btn-block",onClick:function(e){return p.emit("join",E),A(w),void A(y)}},"Join Game")),a.a.createElement("div",{className:"col-sm"},a.a.createElement("button",{className:"btn btn-default btn-block",onClick:j},"Solo Game"))),a.a.createElement("div",{id:"headers"},a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"online col-sm"},a.a.createElement("h5",null,"ONLINE ",a.a.createElement("div",{className:"icon"},this.state.users.length-1)),o.map(function(e){return a.a.createElement("div",{key:e,className:"players"},e)})),a.a.createElement("div",{className:"online col-sm"},a.a.createElement("h5",null,"High Score: "),a.a.createElement("ol",null,r.map(function(e){return a.a.createElement("li",{key:"scores"+e.user_id},e.name+": "+e.score)}))))),a.a.createElement(M,{msg:this.state.msg,msgs:this.state.msgs,updateMsg:this.updateMsg,submitMsg:this.submitMsg,user:this.state.userID}),a.a.createElement("div",null))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[32,2,1]]]);
//# sourceMappingURL=main.e8906541.chunk.js.map
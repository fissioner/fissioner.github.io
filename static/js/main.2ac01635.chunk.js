(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,n){e.exports=n(68)},37:function(e,t,n){},65:function(e,t){},68:function(e,t,n){"use strict";n.r(t);var i,r=n(0),l=n.n(r),o=n(31),a=n.n(o),s=(n(37),n(8)),c=n(9),u=n(12),h=n(10),f=n(13),m=n(11),d=n.n(m),p=d.a.connect("https://runner-gunner-server.herokuapp.com"),g=!1;p.on("joinedGame",function(){g=!0}),p.on("waiting",function(e){x.clearRect(0,0,w.width,w.height),x.textAlign="center",x.fillStyle="blue",x.font="30px Courier",x.fillText("Waiting for another player to join...",w.width/2,100),x.font="25px Arial",x.fillStyle="magenta",x.fillText("Lobby: ".concat(e),w.width/2,170),x.fillStyle="black",x.font="40px Courier",x.fillText("Controls",w.width/2,250),x.font="20px Arial",x.fillText("Space: shoot",w.width/2,300),x.fillText("Hold Up Arrow: jump",w.width/2,330),x.fillText("Right Arrow: move right",w.width/2,360),x.fillText("Left Arrow: move left",w.width/2,390)});var w=document.getElementById("canvas"),x=w.getContext("2d");x.textAlign="center",x.fillStyle="brown",x.font="50px Courier",x.fillText("Runner Gunner",w.width/2,100),x.textAlign="center",x.fillStyle="black",x.font="40px Courier",x.fillText("Controls",w.width/2,250),x.font="20px Arial",x.fillText("Space: shoot",w.width/2,300),x.fillText("Hold Up Arrow: jump",w.width/2,330),x.fillText("Right Arrow: move right",w.width/2,360),x.fillText("Left Arrow: move left",w.width/2,390);var y=0,v={left:!1,right:!1,up:!1,active:function(e){var t="keydown"===e.type;switch(e.keyCode){case 37:v.left=t;break;case 39:v.right=t;break;case 38:v.up=t}"keydown"===e.type&&32===e.keyCode&&p.emit("bullets",i),g&&p.emit("controls",{controls:v,userName:i})}};function E(e){e.forEach(function(e){e.forEach(function(e){var t;"player"===e.type?(x.font="35px Arial",x.fillText(e.emoji,e.x,e.y+35)):"enemy"===e.type?(x.font="40px Arial",x.fillText("\ud83d\udc79",e.x,e.y+40)):(t=e,x.fillStyle=t.color,x.fillRect(t.x,t.y,t.width,t.height))})})}p.on("drawElements",function(e){x.clearRect(0,0,w.width,w.height),E(e),x.font="30px Arial",x.textAlign="left",x.fillText("Score: ".concat(y),10,50)}),p.on("score",function(e){y=e}),p.on("gameOver",function(e){x.font="90px Arial",x.fillStyle="red",x.fillText("\u2620\ufe0f",w.width/2-45,w.height/2-20),g=!1}),window.addEventListener("keydown",v.active),window.addEventListener("keyup",v.active);var b,k,S=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=(new Date).toUTCString();return l.a.createElement("div",null,l.a.createElement("h5",null,"Welcome: ",l.a.createElement("span",null,this.props.user)),l.a.createElement("form",{onSubmit:function(n){return""===e.props.msg?n.preventDefault():function(e,t){e.preventDefault(),p.emit("submitMsg",t)}(n,{msg:e.props.msg,user:e.props.user,stamp:t})}},l.a.createElement("input",{id:"message",className:"form-control",type:"text",onChange:this.props.updateMsg,value:this.props.msg,placeholder:"Chat with other players"}),l.a.createElement("button",{id:"submit",className:"btn btn-default",type:"submit",onClick:this.props.submitMsg},"Send")),l.a.createElement("div",{id:"messages"},this.props.msgs.map(function(t){return l.a.createElement("p",{className:"msg"},l.a.createElement("code",{className:t.user===e.props.user?"myMsg":""},t.user,":")," ".concat(t.msg),l.a.createElement("caption",null,t.stamp))})))}}]),t}(r.Component),A=d.a.connect("https://runner-gunner-server.herokuapp.com"),T=0,C=[],j=[],N=[],M=[],O=.5,L=function(e,t){var n=Math.floor(Math.random()*Math.floor(t));return n>e?n:n+e},I=["black","brown","white"];function R(e,t,n,i,r,l,o,a){this.name=o||"",this.x=e,this.y=t,this.width=n,this.height=i,this.color=r,this.type=l,this.yVelocity=0,this.xVelocity=0,this.emoji=a||"",this.controls={left:!1,right:!1,up:!1}}var G=document.getElementById("canvas"),D=G.getContext("2d");D.textAlign="center",D.fillStyle="brown",D.font="50px Courier",D.fillText("Runner Gunner",G.width/2,100),D.textAlign="center",D.fillStyle="black",D.font="40px Courier",D.fillText("Controls",G.width/2,250),D.font="20px Arial",D.fillText("Space: shoot",G.width/2,300),D.fillText("Hold Up Arrow: jump",G.width/2,330),D.fillText("Right Arrow: move right",G.width/2,360),D.fillText("Left Arrow: move left",G.width/2,390);var V={left:!1,right:!1,up:!1,active:function(e){var t="keydown"===e.type;switch(e.keyCode){case 37:V.left=t;break;case 39:V.right=t;break;case 38:V.up=t}"keydown"===e.type&&32===e.keyCode&&N.push(new R(j[0].x+20,j[0].y+10,10,10,"gray","bullet")),j.length>0&&(j[0].controls=V)}};function B(e){e.forEach(function(e){e.forEach(function(e){var t;"player"===e.type?(D.font="35px Arial",D.fillText(e.emoji,e.x,e.y+35)):"enemy"===e.type?(D.font="40px Arial",D.fillText("\ud83d\udc79",e.x,e.y+40)):(t=e,D.fillStyle=t.color,D.fillRect(t.x,t.y,t.width,t.height))})})}function H(){A.emit("startSolo"),window.addEventListener("keydown",V.active),window.addEventListener("keyup",V.active),k=setInterval(U,20),b=2,T=0,M.push(new R(0,0,0,0,"gray","enemy_placeholder")),j.push(new R(140,G.height-50-40,20,40,"orange","player","","\ud83e\udd50")),C.push(new R(100,G.height-50,100,50,"green","platform"));for(var e=1;e<500;e++){var t=L(50,400),n=L(50,400),i=I[L(0,I.length)],r=C[e-1].x+L(50,200)+C[e-1].width;C.push(new R(r,G.height-n,t,n,i,"platform"))}C.forEach(function(e){e!==C[0]&&L(0,10)<5&&M.push(new R(e.x+L(10,e.width-30),e.y-45,25,45,"green","enemy")),function t(){e!==C[0]&&L(0,10)<4&&(M.push(new R(e.x+L(10,e.width-30),e.y-45,25,45,"green","enemy")),t())}()})}function U(){var e=G.height+100;C[0].x+C[0].width<0&&C.shift(),M[1].x+40<0&&M.splice(1,1),j.forEach(function(t){t.y>G.height&&(b-=1,console.log(b)),t.yVelocity+=O,t.y+=t.yVelocity,t.controls.up&&(t.y-=18),t.controls.left&&(t.x-=5),t.controls.right&&(t.x+=5),t.x>G.width-200&&M.forEach(function(e){e.x-=5}),t.x<=0&&(t.x=0),M.forEach(function(e){t.x>e.x&&t.x<e.x+e.width&&t.y>e.y&&t.y<e.y+e.height&&(b-=1)}),C.forEach(function(n){t.x>G.width-200&&(n.x-=5,t.x-=.1),t.x>=n.x&&t.x<=n.x+n.width&&(e=G.height-40-n.height,t.y>e&&t.y<e+50&&(t.yVelocity=0,t.y=G.height-n.height-40))})});var t=[j,C.slice(0,6),M.slice(1,10),N];D.clearRect(0,0,G.width,G.height),B(t),D.font="30px Arial",D.textAlign="left",D.fillText("Score: ".concat(T),10,50),(b<1||0===j.length)&&(D.font="90px Arial",D.fillStyle="red",D.fillText("\u2620\ufe0f",G.width/2-45,G.height/2-20),clearInterval(k),C=[],N=[],M=[],j=[],console.log("Game Over",b),window.removeEventListener("keydown",V.active),window.removeEventListener("keyup",V.active),A.emit("stopSolo"));for(var n=0;n<N.length;n++){N[n].x+=5;for(var i=0;i<15;i++)N[n].x>M[i].x&&N[n].x<M[i].x+M[i].width&&N[n].y>M[i].y&&N[n].y<M[i].y+M[i].height&&(M.splice(i,i),N[n].x=G.width,T+=1);N[n].x>N[n].x+G.width&&N[n].splice(n,n)}}var W=function(e){function t(e){var n,r,l,o,a;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(h.a)(t).call(this,e))).updateMsg=function(e){n.setState({msg:e.target.value})},n.submitMsg=function(){setTimeout(function(){return n.setState({msg:""})},50)},n.state={userID:"none",users:[],msg:"",msgs:[],isStart:!1},r=function(e){return n.setState({userID:e})},p.on("user",function(e){r(e),i=e}),l=function(e){return n.setState({users:e})},p.on("users",function(e){return l(e)}),o=function(e){return n.setState({msgs:e})},p.on("msg",function(e){return o(e)}),a=function(e){return n.setState({isStart:e})},p.on("startGame",function(e){return a(e)}),function(e){p.on("stopGame",function(t){return e(t)})}(function(e){return n.setState({isStart:e})}),n}return Object(f.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.userID,n=e.users.filter(function(e){return e!==t});return l.a.createElement("div",{className:"App"},this.state.isStart?l.a.createElement("div",{id:"in-progress",className:"text-center"},l.a.createElement("code",null,"Game in Progress")):l.a.createElement("div",{id:"btn",className:"row"},l.a.createElement("div",{className:"col-sm"},l.a.createElement("button",{className:"btn btn-warning btn-block",onClick:function(e){p.emit("join",i)}},"Join Game")),l.a.createElement("div",{className:"col-sm"},l.a.createElement("button",{className:"btn btn-default btn-block",onClick:H},"Solo Game"))),l.a.createElement("div",{id:"headers"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"online col-sm"},l.a.createElement("h5",null,"ONLINE ",l.a.createElement("div",{className:"icon"},this.state.users.length-1)),n.map(function(e){return l.a.createElement("div",{key:e},e)})),l.a.createElement("div",{className:"online col-sm"},l.a.createElement("h5",null,"High Score: "),l.a.createElement("ol",null,l.a.createElement("li",null,"drowsy-nickname: 86798334"),l.a.createElement("li",null,"chemical-question: 76394852"),l.a.createElement("li",null,"galactic-neuron: 49879872"),l.a.createElement("li",null,"bizarre-sculpture: 287329823"),l.a.createElement("li",null,"cleared-roundness: 278798743"))))),l.a.createElement(S,{msg:this.state.msg,msgs:this.state.msgs,updateMsg:this.updateMsg,submitMsg:this.submitMsg,user:this.state.userID}))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(l.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[32,2,1]]]);
//# sourceMappingURL=main.2ac01635.chunk.js.map
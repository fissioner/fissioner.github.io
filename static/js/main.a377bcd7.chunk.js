(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,n){e.exports=n(68)},37:function(e,t,n){},65:function(e,t){},68:function(e,t,n){"use strict";n.r(t);var r,a=n(0),i=n.n(a),l=n(30),o=n.n(l),s=(n(37),n(8)),c=n(9),u=n(11),m=n(10),f=n(12),p=n(31),d=n.n(p).a.connect("https://runner-gunner-server.herokuapp.com"),h=!1;d.on("joinedGame",function(){h=!0}),d.on("waiting",function(e){w.clearRect(0,0,g.width,g.height),w.textAlign="center",w.fillStyle="blue",w.font="30px Courier",w.fillText("Waiting for another player to join...",g.width/2,100),w.font="25px Arial",w.fillStyle="magenta",w.fillText("Lobby: ".concat(e),g.width/2,170),w.fillStyle="black",w.font="40px Courier",w.fillText("Controls",g.width/2,250),w.font="20px Arial",w.fillText("Space: shoot",g.width/2,300),w.fillText("Hold Up Arrow: jump",g.width/2,330),w.fillText("Right Arrow: move right",g.width/2,360),w.fillText("Left Arrow: move left",g.width/2,390)});var g=document.getElementById("canvas"),w=g.getContext("2d");w.textAlign="center",w.fillStyle="brown",w.font="50px Courier",w.fillText("Runner Gunner",g.width/2,100),w.textAlign="center",w.fillStyle="black",w.font="40px Courier",w.fillText("Controls",g.width/2,250),w.font="20px Arial",w.fillText("Space: shoot",g.width/2,300),w.fillText("Hold Up Arrow: jump",g.width/2,330),w.fillText("Right Arrow: move right",g.width/2,360),w.fillText("Left Arrow: move left",g.width/2,390);var v=0,b={left:!1,right:!1,up:!1,active:function(e){var t="keydown"===e.type;switch(e.keyCode){case 37:b.left=t;break;case 39:b.right=t;break;case 38:b.up=t}"keydown"===e.type&&32===e.keyCode&&d.emit("bullets",r),h&&d.emit("controls",{controls:b,userName:r})}};function x(e){e.forEach(function(e){e.forEach(function(e){var t;"player"===e.type?(w.font="35px Arial",w.fillText(e.emoji,e.x,e.y+35)):"enemy"===e.type?(w.font="40px Arial",w.fillText("\ud83d\udc79",e.x,e.y+40)):(t=e,w.fillStyle=t.color,w.fillRect(t.x,t.y,t.width,t.height))})})}d.on("drawElements",function(e){w.clearRect(0,0,g.width,g.height),x(e),w.font="30px Arial",w.textAlign="left",w.fillText("Score: ".concat(v),10,50)}),d.on("score",function(e){v=e}),d.on("gameOver",function(e){w.font="90px Arial",w.fillStyle="red",w.fillText("\u2620\ufe0f",g.width/2-45,g.height/2-20),h=!1}),window.addEventListener("keydown",b.active),window.addEventListener("keyup",b.active);var E=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=(new Date).toUTCString();return i.a.createElement("div",null,i.a.createElement("h5",null,"Welcome: ",i.a.createElement("span",null,this.props.user)),i.a.createElement("form",{onSubmit:function(n){return""===e.props.msg?n.preventDefault():function(e,t){e.preventDefault(),d.emit("submitMsg",t)}(n,{msg:e.props.msg,user:e.props.user,stamp:t})}},i.a.createElement("input",{id:"message",className:"form-control",type:"text",onChange:this.props.updateMsg,value:this.props.msg,placeholder:"Chat with other players"}),i.a.createElement("button",{id:"submit",className:"btn btn-default",type:"submit",onClick:this.props.submitMsg},"Send")),i.a.createElement("div",{id:"messages"},this.props.msgs.map(function(t){return i.a.createElement("p",{className:"msg"},i.a.createElement("code",{className:t.user===e.props.user?"myMsg":""},t.user,":")," ".concat(t.msg),i.a.createElement("caption",null,t.stamp))})))}}]),t}(a.Component),y=function(e){function t(e){var n,a,i,l,o;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).updateMsg=function(e){n.setState({msg:e.target.value})},n.submitMsg=function(){setTimeout(function(){return n.setState({msg:""})},50)},n.state={userID:"none",users:[],msg:"",msgs:[],positions:[],isStart:!1},a=function(e){return n.setState({userID:e})},d.on("user",function(e){a(e),r=e}),i=function(e){return n.setState({users:e})},d.on("users",function(e){return i(e)}),l=function(e){return n.setState({msgs:e})},d.on("msg",function(e){return l(e)}),o=function(e){return n.setState({isStart:e})},d.on("startGame",function(e){return o(e)}),function(e){d.on("stopGame",function(t){return e(t)})}(function(e){return n.setState({isStart:e})}),n}return Object(f.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.userID,n=e.users.filter(function(e){return e!==t});return i.a.createElement("div",{className:"App"},this.state.isStart?i.a.createElement("div",{id:"in-progress",className:"text-center"},i.a.createElement("code",null,"Game in Progress")):i.a.createElement("div",{id:"btn"},i.a.createElement("button",{id:"join",className:"btn btn-warning btn-block",onClick:function(e){d.emit("join",r)}},"Join Game")),i.a.createElement("div",{id:"headers"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"online col-sm"},i.a.createElement("h5",null,"ONLINE ",i.a.createElement("div",{className:"icon"},this.state.users.length-1)),n.map(function(e){return i.a.createElement("div",{key:e},e)})),i.a.createElement("div",{className:"online col-sm"},i.a.createElement("h5",null,"High Score: "),i.a.createElement("ol",null,i.a.createElement("li",null,"drowsy-nickname: 86798334"),i.a.createElement("li",null,"chemical-question: 76394852"),i.a.createElement("li",null,"galactic-neuron: 49879872"),i.a.createElement("li",null,"bizarre-sculpture: 287329823"),i.a.createElement("li",null,"cleared-roundness: 278798743"))))),i.a.createElement(E,{msg:this.state.msg,msgs:this.state.msgs,updateMsg:this.updateMsg,submitMsg:this.submitMsg,user:this.state.userID}))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[32,2,1]]]);
//# sourceMappingURL=main.a377bcd7.chunk.js.map
(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{205:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(35),i=t.n(r),s=(t(96),t(15)),o=t(16),c=t(18),m=t(17),p=t(19),u=t(14),d=t(12),E=t.n(d),h=t(13),y=t(26),v=t.n(y),f=t(38),b=t.n(f),w=t(84),N=t.n(w);function g(){var e=Object(u.a)(["\n{\n  employees {\n    id\n    first\n    last\n    email\n    phone\n    salary\n  }\n}\n"]);return g=function(){return e},e}var j=E()(g()),O=function(e){function a(){return Object(s.a)(this,a),Object(c.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(p.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=1,a=this.props,t=a.data,n=t.loading,r=t.employees,i=a.viewEmployee,s=a.createEmployee;return n?null:l.a.createElement("div",{className:"component"},l.a.createElement("h2",{className:"title"},"Employees"),l.a.createElement(b.a,{variant:"contained",color:"default","aria-label":"Add",size:"small",onClick:s},l.a.createElement(N.a,null)),"                ",l.a.createElement(v.a,{elevation:2},l.a.createElement("table",{className:"table"},l.a.createElement("thead",{className:"bg-primary"},l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"#"),l.a.createElement("th",{scope:"col"},"Name"),l.a.createElement("th",{scope:"col"},"Email"),l.a.createElement("th",{scope:"col"},"Phone"),l.a.createElement("th",{scope:"col"},"Salary"))),l.a.createElement("tbody",null,r.map(function(a){return l.a.createElement("tr",{key:a.id,className:"item",onClick:function(){return i(a.id,a.first,a.last,a.email,a.phone,a.salary)}},l.a.createElement("th",{scope:"row"},e++),l.a.createElement("td",null,a.first," ",a.last),l.a.createElement("td",null,a.email),l.a.createElement("td",null,"(".concat(a.phone[0]).concat(a.phone[1]).concat(a.phone[2],") ").concat(a.phone[3]).concat(a.phone[4]).concat(a.phone[5],"-").concat(a.phone[6]).concat(a.phone[7]).concat(a.phone[8]).concat(a.phone[9])),l.a.createElement("td",null,"$"+a.salary))})))))}}]),a}(n.Component),S=Object(h.graphql)(j)(O),$=t(20),C=t.n($),_=t(39),k=t(87),q=t.n(k),x=t(85),I=t.n(x),P=t(86),T=t.n(P);function A(){var e=Object(u.a)(["\nmutation($id: ID!) {\n    removeEmployee(id: $id)\n  }\n"]);return A=function(){return e},e}function L(){var e=Object(u.a)(["\n{\n  employees {\n    id\n    first\n    last\n    email\n    phone\n    salary\n  }\n}\n"]);return L=function(){return e},e}var F=E()(L()),Q=E()(A()),B=function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(c.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l))))._removeEmployee=function(){var e=Object(_.a)(C.a.mark(function e(a){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.props.removeEmployee({variables:{id:t.props.id},update:function(e){var a=e.readQuery({query:F});a.employees=a.employees.filter(function(e){return e.id===t.props.id}),e.writeQuery({query:F,data:a})}});case 2:window.location.reload(!1);case 3:case"end":return e.stop()}},e,this)}));return function(a){return e.apply(this,arguments)}}(),t}return Object(p.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this,a=this.props,t=a.id,n=a.first,r=a.last,i=a.email,s=a.phone,o=a.salary,c=a.viewTable,m=a.editEmployee;return l.a.createElement("div",{className:"component"},l.a.createElement("h2",{className:"title"},"Employee Record"),l.a.createElement(b.a,{variant:"contained",color:"default","aria-label":"Add",size:"small",onClick:m},l.a.createElement(I.a,null)),l.a.createElement(b.a,{variant:"contained",color:"default","aria-label":"Add",size:"small"},l.a.createElement(T.a,{"data-toggle":"modal","data-target":"#deletePermanent"})),l.a.createElement(v.a,{elevation:2,className:"record"},l.a.createElement("div",{className:"data"},l.a.createElement("b",null,"Employee ID"),l.a.createElement("div",null,t)),l.a.createElement("div",{className:"data"},l.a.createElement("b",null,"Full Name"),l.a.createElement("div",null,n," ",r)),l.a.createElement("div",{className:"data"},l.a.createElement("b",null,"Email"),l.a.createElement("div",null,i)),l.a.createElement("div",{className:"data"},l.a.createElement("b",null,"Phone"),l.a.createElement("div",null,"(".concat(s[0]).concat(s[1]).concat(s[2],") ").concat(s[3]).concat(s[4]).concat(s[5],"-").concat(s[6]).concat(s[7]).concat(s[8]).concat(s[9]))),l.a.createElement("div",{className:"data"},l.a.createElement("b",null,"Salary"),l.a.createElement("div",null,"$"+o))),l.a.createElement("button",{className:"btn btn-primary",onClick:c},"Back"),l.a.createElement("div",{className:"modal fade",id:"deletePermanent",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title",id:"ModalLabel"},l.a.createElement("b",null,"Warning!")),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body bg-danger"},"Are you sure you want to delete this employee record permanently?"),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Close"),l.a.createElement("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",onClick:function(a){return e._removeEmployee(a)}},l.a.createElement(q.a,null)))))))}}]),a}(n.Component),D=Object(h.graphql)(Q,{name:"removeEmployee"})(B);function V(){var e=Object(u.a)(["\nmutation($id: ID!, $first: String!, $last: String!, $email: String!, $phone: String!, $salary: Int!) {\n    updateEmployee(id: $id, first: $first, last: $last, email: $email, phone: $phone, salary: $salary)\n  }\n"]);return V=function(){return e},e}function z(){var e=Object(u.a)(["\nmutation($first: String!, $last: String!, $email: String!, $phone: String!, $salary: Int!) {\n    createEmployee(first: $first, last: $last, email: $email, phone: $phone, salary: $salary) {\n      id\n      first\n      last\n      email\n      phone\n      salary\n    }\n  }\n"]);return z=function(){return e},e}function J(){var e=Object(u.a)(["\n{\n  employees {\n    id\n    first\n    last\n    email\n    phone\n    salary\n  }\n}\n"]);return J=function(){return e},e}var R=E()(J()),W=E()(z()),M=E()(V()),G=function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(c.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).createEmployee=Object(_.a)(C.a.mark(function e(){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.props.createEmployee({variables:{first:t.props.first,last:t.props.last,email:t.props.email,phone:t.props.phone,salary:parseInt(t.props.salary)},update:function(e,a){var t=a.data.createEmployee,n=e.readQuery({query:R});n.employees=n.employees.push(t),e.writeQuery({query:R,data:n})}});case 2:t.props.viewTable();case 3:case"end":return e.stop()}},e,this)})),t.updateEmployee=function(){var e=Object(_.a)(C.a.mark(function e(a){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.props.updateEmployee({variables:{id:t.props.id,first:t.props.first,last:t.props.last,email:t.props.email,phone:t.props.phone,salary:parseInt(t.props.salary)},update:function(e){var a=e.readQuery({query:R});a.employees=a.employees.map(function(e){return e.id===t.props.id?{id:t.props.id,first:t.props.first,last:t.props.last,email:t.props.email,phone:t.props.phone,salary:t.props.salary}:e}),e.writeQuery({query:R,data:a})}});case 2:t.props.viewTable();case 3:case"end":return e.stop()}},e,this)}));return function(a){return e.apply(this,arguments)}}(),t}return Object(p.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this,a=this.props,t=a.id,n=a.first,r=a.last,i=a.email,s=a.phone,o=a.salary,c=a.viewEmployee,m=a.viewTable,p=a.updateFirst,u=a.updateLast,d=a.updateEmail,E=a.updatePhone,h=a.updateSalary,y=a.isCreate;return l.a.createElement("div",{className:"component"},l.a.createElement("h2",{className:"title"},y?"Create Employee Record":"Edit Employee Record"),l.a.createElement("form",null,l.a.createElement(v.a,{elevation:2,className:"record"},y?"":l.a.createElement("div",{className:"data"},l.a.createElement("b",null,"Employee ID"),l.a.createElement("div",null,t)),l.a.createElement("div",{className:"data"},l.a.createElement("b",null,"First"),l.a.createElement("input",{type:"text",className:"form-control",onChange:p,value:n,placeholder:"Jane",required:!0})),l.a.createElement("div",{className:"data"},l.a.createElement("b",null,"Last"),l.a.createElement("input",{type:"text",className:"form-control",onChange:u,value:r,placeholder:"Doe",required:!0})),l.a.createElement("div",{className:"data"},l.a.createElement("b",null,"Email"),l.a.createElement("input",{type:"email",className:"form-control",onChange:d,value:i,placeholder:"example@mail.com",required:!0})),l.a.createElement("div",{className:"data"},l.a.createElement("b",null,"Phone"),l.a.createElement("input",{type:"number",className:"form-control",onChange:E,value:s,placeholder:"Enter 10 digits",required:!0})),l.a.createElement("div",{className:"data"},l.a.createElement("b",null,"Salary"),l.a.createElement("input",{type:"number",className:"form-control",onChange:h,value:o,placeholder:"Numbers only, e.g. 87000",required:!0}))),l.a.createElement("button",{id:"backBtn",className:"btn btn-primary",onClick:y?m:c},"Back"),l.a.createElement("button",{className:"btn btn-primary",onClick:y?this.createEmployee:function(a){return e.updateEmployee(a)}},y?"Create":"Save")))}}]),a}(n.Component),H=Object(h.compose)(Object(h.graphql)(W,{name:"createEmployee"}),Object(h.graphql)(M,{name:"updateEmployee"}))(G),K=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(c.a)(this,Object(m.a)(a).call(this,e)))._editEmployee=function(){t.setState({isEdit:!0,isView:!1})},t._viewEmployee=function(){t.setState({isView:!0,isEdit:!1})},t._viewTable=function(){t.setState({isEdit:!1,isView:!1,isCreate:!1})},t._createEmployee=function(){t.setState({isCreate:!0,isEdit:!0,id:"",first:"",last:"",email:"",phone:"",salary:""})},t._selectEmployee=function(e,a,n,l,r,i){t.setState({id:e,first:a,last:n,email:l,phone:r,salary:i}),t._viewEmployee()},t._updateFirst=function(e){t.setState({first:e.target.value})},t._updateLast=function(e){t.setState({last:e.target.value})},t._updateEmail=function(e){t.setState({email:e.target.value})},t._updatePhone=function(e){t.setState({phone:e.target.value})},t._updateSalary=function(e){t.setState({salary:e.target.value})},t._updateState=function(){t.setState({state:t.state})},t.state={isView:!1,isEdit:!1,isCreate:!1,id:"",first:"",last:"",email:"",phone:"",salary:""},t}return Object(p.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,this.state.isView?l.a.createElement(D,{updateState:this._updateState,editEmployee:this._editEmployee,viewTable:this._viewTable,id:this.state.id,first:this.state.first,last:this.state.last,email:this.state.email,phone:this.state.phone,salary:this.state.salary}):this.state.isEdit?l.a.createElement(H,{isCreate:this.state.isCreate,viewTable:this._viewTable,updateFirst:this._updateFirst,updateLast:this._updateLast,updateEmail:this._updateEmail,updatePhone:this._updatePhone,updateSalary:this._updateSalary,viewEmployee:this._viewEmployee,id:this.state.id,first:this.state.first,last:this.state.last,email:this.state.email,phone:this.state.phone,salary:this.state.salary}):l.a.createElement(S,{viewEmployee:this._selectEmployee,createEmployee:this._createEmployee}))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var U=new(t(89).a)({uri:"http://localhost:4000"});i.a.render(l.a.createElement(h.ApolloProvider,{client:U},l.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},91:function(e,a,t){e.exports=t(205)},96:function(e,a,t){}},[[91,2,1]]]);
//# sourceMappingURL=main.1fa606cd.chunk.js.map
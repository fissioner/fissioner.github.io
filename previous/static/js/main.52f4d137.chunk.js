(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(t,e,n){t.exports=n(68)},37:function(t,e,n){},65:function(t,e){},68:function(t,e,n){"use strict";n.r(e);var a,s=n(0),r=n.n(s),i=n(30),o=n.n(i),c=(n(37),n(8)),u=n(9),l=n(11),m=n(10),f=n(12),p=n(31),h=n.n(p).a.connect("http://localhost:5000/"),g=!1;h.on("joinedGame",function(){g=!0}),h.on("waiting",function(t){b.clearRect(0,0,d.width,d.height),b.fillStyle="black",b.font="40px Arial",b.fillText("Waiting for another player to join...",10,50),b.font="20px Arial",b.fillText("Lobby: ".concat(t),10,100)});var d=document.getElementById("canvas"),b=d.getContext("2d"),v=0,y={left:!1,right:!1,up:!1,active:function(t){var e="keydown"===t.type;switch(t.keyCode){case 37:y.left=e;break;case 39:y.right=e;break;case 38:y.up=e}"keydown"===t.type&&32===t.keyCode&&h.emit("bullets",a),g&&h.emit("controls",{controls:y,userName:a})}};function w(t){t.forEach(function(t){t.forEach(function(t){var e;"player"===t.type?(b.font="35px Arial",b.fillText(t.emoji,t.x,t.y+35)):"enemy"===t.type?(b.font="40px Arial",b.fillText("\ud83d\udc79",t.x,t.y+40)):(e=t,b.fillStyle=e.color,b.fillRect(e.x,e.y,e.width,e.height))})})}h.on("drawElements",function(t){b.clearRect(0,0,d.width,d.height),w(t),b.font="30px Arial",b.fillText("Score: ".concat(v),10,50)}),h.on("score",function(t){v=t}),h.on("gameOver",function(t){b.font="90px Arial",b.fillStyle="red",b.fillText("\u2620\ufe0f",d.width/2-45,d.height/2-20),g=!1}),window.addEventListener("keydown",y.active),window.addEventListener("keyup",y.active);var E=function(t){function e(){return Object(c.a)(this,e),Object(l.a)(this,Object(m.a)(e).apply(this,arguments))}return Object(f.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){var t=this,e=(new Date).toUTCString();return r.a.createElement("div",null,r.a.createElement("h5",null,"Welcome: ",r.a.createElement("span",null,this.props.user)),r.a.createElement("form",{onSubmit:function(n){return""===t.props.msg?n.preventDefault():function(t,e){t.preventDefault(),h.emit("submitMsg",e)}(n,{msg:t.props.msg,user:t.props.user,stamp:e})}},r.a.createElement("input",{id:"message",className:"form-control",type:"text",onChange:this.props.updateMsg,value:this.props.msg}),r.a.createElement("button",{id:"submit",className:"btn btn-success",type:"submit",onClick:this.props.submitMsg},"Send")),r.a.createElement("div",{id:"messages"},this.props.msgs.map(function(e){return r.a.createElement("p",{className:"msg"},r.a.createElement("code",{className:e.user===t.props.user?"myMsg":""},e.user,":")," ".concat(e.msg),r.a.createElement("caption",null,e.stamp))})))}}]),e}(s.Component),k=function(t){function e(t){var n,s,r,i,o;return Object(c.a)(this,e),(n=Object(l.a)(this,Object(m.a)(e).call(this,t))).updateMsg=function(t){n.setState({msg:t.target.value})},n.submitMsg=function(){setTimeout(function(){return n.setState({msg:""})},50)},n.state={userID:"none",users:[],msg:"",msgs:[],positions:[],isStart:!1},s=function(t){return n.setState({userID:t})},h.on("user",function(t){s(t),a=t}),r=function(t){return n.setState({users:t})},h.on("users",function(t){return r(t)}),i=function(t){return n.setState({msgs:t})},h.on("msg",function(t){return i(t)}),o=function(t){return n.setState({isStart:t})},h.on("startGame",function(t){return o(t)}),function(t){h.on("stopGame",function(e){return t(e)})}(function(t){return n.setState({isStart:t})}),n}return Object(f.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){var t=this.state,e=t.userID,n=t.users.filter(function(t){return t!==e});return r.a.createElement("div",{className:"App"},this.state.isStart?r.a.createElement("div",null,"Game in Progress"):r.a.createElement("button",{className:"btn btn-warning",onClick:function(t){h.emit("join",a)}},"Join Game"),r.a.createElement("header",{className:"online"},r.a.createElement("h5",null,"ONLINE ",r.a.createElement("div",{className:"icon"},this.state.users.length-1)),n.map(function(t){return r.a.createElement("div",{key:t},t)})),r.a.createElement(E,{msg:this.state.msg,msgs:this.state.msgs,updateMsg:this.updateMsg,submitMsg:this.submitMsg,user:this.state.userID}))}}]),e}(s.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[32,2,1]]]);
//# sourceMappingURL=main.52f4d137.chunk.js.map